{"version":3,"sources":["../../../client/components/modal/modal.service.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AAEb,OAAO,CAAC,MAAM,CAAC,UAAU,CAAC,CACvB,OAAO,CAAC,OAAO,EAAE,UAAU,UAAU,EAAE,MAAM,EAAE;;;;;;;AAO9C,WAAS,SAAS,CAAC,KAAK,EAAE,UAAU,EAAE;AACpC,QAAI,UAAU,GAAG,UAAU,CAAC,IAAI,EAAE,CAAC;AACnC,SAAK,GAAG,KAAK,IAAI,EAAE,CAAC;AACpB,cAAU,GAAG,UAAU,IAAI,eAAe,CAAC;;AAE3C,WAAO,CAAC,MAAM,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;;AAElC,WAAO,MAAM,CAAC,IAAI,CAAC;AACjB,iBAAW,EAAE,6BAA6B;AAC1C,iBAAW,EAAE,UAAU;AACvB,WAAK,EAAE,UAAU;KAClB,CAAC,CAAC;GACJ;;;AAGD,SAAO;;;AAGL,WAAO,EAAE;;;;;;;AAOP,gBAAQ,iBAAS,GAAG,EAAE;AACpB,WAAG,GAAG,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC;;;;;;;AAO1B,eAAO,YAAW;AAChB,cAAI,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC;cAC5C,IAAI,GAAG,IAAI,CAAC,KAAK,EAAE;cACnB,WAAW,CAAC;;AAEhB,qBAAW,GAAG,SAAS,CAAC;AACtB,iBAAK,EAAE;AACL,yBAAW,EAAE,IAAI;AACjB,mBAAK,EAAE,gBAAgB;AACvB,kBAAI,EAAE,6CAA6C,GAAG,IAAI,GAAG,iBAAiB;AAC9E,qBAAO,EAAE,CAAC;AACR,uBAAO,EAAE,YAAY;AACrB,oBAAI,EAAE,QAAQ;AACd,qBAAK,EAAE,eAAS,CAAC,EAAE;AACjB,6BAAW,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;iBACtB;eACF,EAAE;AACD,uBAAO,EAAE,aAAa;AACtB,oBAAI,EAAE,QAAQ;AACd,qBAAK,EAAE,eAAS,CAAC,EAAE;AACjB,6BAAW,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;iBACxB;eACF,CAAC;aACH;WACF,EAAE,cAAc,CAAC,CAAC;;AAEnB,qBAAW,CAAC,MAAM,CAAC,IAAI,CAAC,UAAS,KAAK,EAAE;AACtC,eAAG,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;WACxB,CAAC,CAAC;SACJ,CAAC;OACH;KACF;GACF,CAAC;CACH,CAAC,CAAC","file":"modal.service.js","sourcesContent":["'use strict';\r\n\r\nangular.module('biyblApp')\r\n  .factory('Modal', function ($rootScope, $modal) {\r\n    /**\r\n     * Opens a modal\r\n     * @param  {Object} scope      - an object to be merged with modal's scope\r\n     * @param  {String} modalClass - (optional) class(es) to be applied to the modal\r\n     * @return {Object}            - the instance $modal.open() returns\r\n     */\r\n    function openModal(scope, modalClass) {\r\n      var modalScope = $rootScope.$new();\r\n      scope = scope || {};\r\n      modalClass = modalClass || 'modal-default';\r\n\r\n      angular.extend(modalScope, scope);\r\n\r\n      return $modal.open({\r\n        templateUrl: 'components/modal/modal.html',\r\n        windowClass: modalClass,\r\n        scope: modalScope\r\n      });\r\n    }\r\n\r\n    // Public API here\r\n    return {\r\n\r\n      /* Confirmation modals */\r\n      confirm: {\r\n\r\n        /**\r\n         * Create a function to open a delete confirmation modal (ex. ng-click='myModalFn(name, arg1, arg2...)')\r\n         * @param  {Function} del - callback, ran when delete is confirmed\r\n         * @return {Function}     - the function to open the modal (ex. myModalFn)\r\n         */\r\n        delete: function(del) {\r\n          del = del || angular.noop;\r\n\r\n          /**\r\n           * Open a delete confirmation modal\r\n           * @param  {String} name   - name or info to show on modal\r\n           * @param  {All}           - any additional args are passed straight to del callback\r\n           */\r\n          return function() {\r\n            var args = Array.prototype.slice.call(arguments),\r\n                name = args.shift(),\r\n                deleteModal;\r\n\r\n            deleteModal = openModal({\r\n              modal: {\r\n                dismissable: true,\r\n                title: 'Confirm Delete',\r\n                html: '<p>Are you sure you want to delete <strong>' + name + '</strong> ?</p>',\r\n                buttons: [{\r\n                  classes: 'btn-danger',\r\n                  text: 'Delete',\r\n                  click: function(e) {\r\n                    deleteModal.close(e);\r\n                  }\r\n                }, {\r\n                  classes: 'btn-default',\r\n                  text: 'Cancel',\r\n                  click: function(e) {\r\n                    deleteModal.dismiss(e);\r\n                  }\r\n                }]\r\n              }\r\n            }, 'modal-danger');\r\n\r\n            deleteModal.result.then(function(event) {\r\n              del.apply(event, args);\r\n            });\r\n          };\r\n        }\r\n      }\r\n    };\r\n  });\r\n"]}