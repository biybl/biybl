{"version":3,"sources":["../../../../client/app/account/signup/signup.controller.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AAEb,OAAO,CAAC,MAAM,CAAC,UAAU,CAAC,CACvB,UAAU,CAAC,YAAY,EAAE,UAAU,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE;AAC3D,QAAM,CAAC,IAAI,GAAG,EAAE,CAAC;AACjB,QAAM,CAAC,MAAM,GAAG,EAAE,CAAC;;AAEnB,QAAM,CAAC,QAAQ,GAAG,UAAS,IAAI,EAAE;AAC/B,UAAM,CAAC,SAAS,GAAG,IAAI,CAAC;;AAExB,QAAG,IAAI,CAAC,MAAM,EAAE;AACd,UAAI,CAAC,UAAU,CAAC;AACd,YAAI,EAAE,MAAM,CAAC,IAAI,CAAC,IAAI;AACtB,aAAK,EAAE,MAAM,CAAC,IAAI,CAAC,KAAK;AACxB,gBAAQ,EAAE,MAAM,CAAC,IAAI,CAAC,QAAQ;OAC/B,CAAC,CACD,IAAI,CAAE,YAAW;;AAEhB,iBAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;OACrB,CAAC,SACI,CAAE,UAAS,GAAG,EAAE;AACpB,WAAG,GAAG,GAAG,CAAC,IAAI,CAAC;AACf,cAAM,CAAC,MAAM,GAAG,EAAE,CAAC;;;AAGnB,eAAO,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,UAAS,KAAK,EAAE,KAAK,EAAE;AACjD,cAAI,CAAC,KAAK,CAAC,CAAC,YAAY,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;AAC5C,gBAAM,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC;SACtC,CAAC,CAAC;OACJ,CAAC,CAAC;KACJ;GACF,CAAC;CAEH,CAAC,CAAC","file":"signup.controller.js","sourcesContent":["'use strict';\r\n\r\nangular.module('biyblApp')\r\n  .controller('SignupCtrl', function ($scope, Auth, $location) {\r\n    $scope.user = {};\r\n    $scope.errors = {};\r\n\r\n    $scope.register = function(form) {\r\n      $scope.submitted = true;\r\n\r\n      if(form.$valid) {\r\n        Auth.createUser({\r\n          name: $scope.user.name,\r\n          email: $scope.user.email,\r\n          password: $scope.user.password\r\n        })\r\n        .then( function() {\r\n          // Account created, redirect to home\r\n          $location.path('/');\r\n        })\r\n        .catch( function(err) {\r\n          err = err.data;\r\n          $scope.errors = {};\r\n\r\n          // Update validity of form fields that match the mongoose errors\r\n          angular.forEach(err.errors, function(error, field) {\r\n            form[field].$setValidity('mongoose', false);\r\n            $scope.errors[field] = error.message;\r\n          });\r\n        });\r\n      }\r\n    };\r\n\r\n  });\r\n"]}